services:
  # Telegram Bot Service
  - type: web
    name: telegram-bot
    env: python
    plan: starter  # –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–ª–∞–Ω –ø–æ –≤–∞—à–∏–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—è–º
    buildCommand: pip install -r requirements.txt
    startCommand: python scripts/start_bot.py --webhook --port $PORT
    envVars:
      - key: BOT_TOKEN
        sync: false  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ Render Dashboard
      - key: WEBHOOK_URL
        value: https://telegram-bot.onrender.com  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à URL
      - key: WEBHOOK_PORT
        value: "8443"
      - key: ENVIRONMENT
        value: production
      - key: PYTHONPATH
        value: /opt/render/project/src
      - key: TZ
        value: UTC
    autoDeploy: true
    disk:
      name: data-disk
      mountPath: /opt/render/project/src/data
      sizeGB: 1
    healthCheckPath: /health
    
  # Render.com –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è DailyCheck Bot Dashboard v4.0.1
services:
  - type: web
    name: dailycheck-dashboard-v4
    env: python
    plan: free
    
    # Build –∫–æ–º–∞–Ω–¥—ã
    buildCommand: |
      echo "üöÄ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è DailyCheck Bot Dashboard v4.0.1..."
      pip install --upgrade pip
      pip install -r requirements-web.txt || pip install fastapi uvicorn python-dotenv
      echo "‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
    
    # –ö–†–ò–¢–ò–ß–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ò–°–ü–†–ê–í–õ–ï–ù–ù–£–Æ –≤–µ—Ä—Å–∏—é —Å –∫—Ä–∞—Å–∏–≤–æ–π HTML
    startCommand: python scripts/start_web_fixed.py
    
    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    envVars:
      - key: PORT
        value: 10000
      - key: HOST
        value: 0.0.0.0
      - key: ENVIRONMENT
        value: production
      - key: DEBUG
        value: false
    
    # Health check –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    healthCheckPath: /health
    
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
    autoDeploy: true
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
    disk:
      name: data
      size: 1GB
      mountPath: /app/data
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    buildFilter:
      paths:
        - scripts/start_web_fixed.py
        - requirements-web.txt
        - render.yaml
      ignoredPaths:
        - main.py
        - scripts/start_web.py  # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
        - "*.md"
        - "*.log"
